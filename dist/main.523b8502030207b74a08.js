(()=>{"use strict";const e={backlog:["reading parenting books","preparing my little sister's birthday gift","tidying up my bookshelf","trying to cook my grandma's fried rice recipe","looking for romantic partner, sigh i'm tired being single :'("],progress:["building portofolio","saving money for my dream laptop","repair my refrigerator"],complete:["learning next js","learning react js","get my car's driving license"],pending:[]};var t,a=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];localStorage.getItem("agendaData")||localStorage.setItem("agendaData",JSON.stringify(e)),t=JSON.parse(localStorage.getItem("agendaData")||""),(0==n.length?["backlog","progress","complete","pending"]:function(e,t,a){if(a||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))}([],n,!0)).forEach((function(e){var n=document.querySelector(".agenda__item--".concat(e," .agenda__item__content"));n.textContent="";for(var r=0;r<=t[e].length;r++){var i=t[e][r],o=document.createElement("li");if(r!=t[e].length&&(o.setAttribute("draggable","true"),o.addEventListener("focusout",(function(e){var n=e.target,r=n.textContent,i=+n.getAttribute("index"),o=n.closest(".agenda__item").id;n.removeAttribute("contenteditable"),""==r.trim()?(t[o].splice(i,1),localStorage.setItem("agendaData",JSON.stringify(t)),a(o)):(t[o][i]=r,localStorage.setItem("agendaData",JSON.stringify(t)))}))),o.classList.add("agenda__item__content__item","cannot-be-selected"),o.setAttribute("index",r.toString()),o.textContent=i,r!=t[e].length){var d=document.createElement("span");d.classList.add("agenda__item__content__item__edit-icon");var c=new Image;c.src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgOTYgOTYwIDk2MCIgd2lkdGg9IjIwIiBmaWxsPSIjZmZmIj48cGF0aCBkPSJNMTk2LjY2NiAxMDcycS00My43IDAtNzQuMTgzLTMwLjQ4UTkyIDEwMTEuMDMgOTIgOTY3LjMzNFY0MDAuNjY2cTAtNDMuOTc1IDMwLjQ4My03NC42NTQgMzAuNDgzLTMwLjY3OSA3NC4xODMtMzAuNjc5aDM4OC4wMDFMNDgwLjAwMSA0MDAuNjY2SDE5Ni42NjZ2NTY2LjY2OGg1NjYuNjY4VjY4My42NjVsMTA1LjMzMy0xMDUuMzMydjM4OS4wMDFxMCA0My42OTYtMzAuNjc5IDc0LjE4Ni0zMC42NzkgMzAuNDgtNzQuNjU0IDMwLjQ4SDE5Ni42NjZaTTQ4MCA2ODRabTE2Mi42NjctMzUyLjMzNEw3MDcgMzk0Ljk5OSA0MzUuMzMzIDY2NC4zMzN2NjQuMzM0aDYzLjMzNGwyNzIuMzM0LTI3MC4zMzQgNjEuMzMzIDYxLjMzMy0yOTYuNjY3IDI5Ny42NjdoLTE4OXYtMTg5bDI5Ni0yOTYuNjY3Wm0xODkuNjY3IDE4OC0xODkuNjY3LTE4OCA4Ny42NjctODdxMzEuMzMzLTMxLjMzMyA3NS4wNC0zMC42NjYgNDMuNzA3LjY2NyA3NC45NTkgMzIuNjY2bDM5LjMzNCA0MC4wMDFxMjkgMzIgMjkgNzQuMzQ4dC0zMSA3My4zMThsLTg1LjMzMyA4NS4zMzNaIi8+PC9zdmc+",c.setAttribute("alt","edit icon"),d.appendChild(c),o.appendChild(d),d.addEventListener("click",(function(e){var t=e.target.closest(".agenda__item__content__item");t.setAttribute("contenteditable","true"),t.focus()}))}n.appendChild(o),o.addEventListener("dragstart",(function(e){setTimeout((function(){e.target.style.display="none"}),0);var t=e.target,a=t.getAttribute("index"),n=t.parentElement.closest(".agenda__item__container").parentElement.id;e.dataTransfer.setData("list",n),e.dataTransfer.setData("index",a)})),o.addEventListener("dragend",(function(e){e.target.style.display="flex"})),o.addEventListener("dragenter",(function(e){var t=e.target;"LI"==t.tagName&&t.classList.add("border-top")})),o.addEventListener("dragleave",(function(e){e.target.classList.remove("border-top")})),o.addEventListener("dragover",(function(e){e.preventDefault()})),o.addEventListener("drop",(function(e){if(e.preventDefault(),"LI"==e.target.tagName){var n=e.target,r=n.getAttribute("index"),i=n.parentElement,o=n.parentElement.closest(".agenda__item__container").parentElement.id,d=e.dataTransfer.getData("list"),c=e.dataTransfer.getData("index");if(i.insertBefore(document.querySelector("#".concat(d,' li[index="').concat(c,'"]')),document.querySelector("#".concat(o,' li[index="').concat(r,'"]'))),o==d){var l=Array.from(i.children).filter((function(e){return""!=e.textContent})).map((function(e){return e.textContent}));t[d]=l,localStorage.setItem("agendaData",JSON.stringify(t)),a(d)}else{var s=Array.from(document.querySelector("#".concat(d," .agenda__item__content")).children).filter((function(e){return""!=e.textContent})).map((function(e){return e.textContent}));t[d]=s;var g=Array.from(i.children).filter((function(e){return""!=e.textContent})).map((function(e){return e.textContent}));t[o]=g,localStorage.setItem("agendaData",JSON.stringify(t)),a(d,o)}n.classList.remove("border-top")}}))}}))};const n=a;var r=function(e){e.setAttribute("disabled","true"),e.classList.add("disabled")};const i=function(e){var t,a=e.target.parentElement.querySelector(".agenda__save-item-btn");""!=e.target.innerText.trim()?((t=a).removeAttribute("disabled"),t.classList.remove("disabled")):r(a)},o=function(e){!function(e,a){var i=a.closest(".agenda__item").id,o=a.querySelector(".agenda__add-item-form__text-area"),d=o.textContent.trim(),c=e.target.parentElement.querySelector(".agenda__item__content"),l=a.querySelector(".agenda__save-item-btn");e.preventDefault(),""!=d&&(t[i].push(d),localStorage.setItem("agendaData",JSON.stringify(t)),o.textContent="",r(l),n(i),c.scrollTo(0,c.scrollHeight))}(e,e.target)},d=function(e){var t=e.target.form,a=t.parentElement.querySelector(".agenda__add-item-btn");t.style.display="none",a.style.display="initial"},c=function(e){var t=e.target,a=t.parentElement.querySelector(".agenda__add-item-form"),n=a.querySelector(".agenda__add-item-form__text-area").textContent,r=a.querySelector(".agenda__save-item-btn");a.style.display="initial",t.style.display="none",""==n.trim()&&(r.classList.add("disabled"),r.setAttribute("disabled","true"))};n(),Array.from(document.querySelectorAll(".agenda__add-item-btn")).forEach((function(e){e.addEventListener("click",c)})),Array.from(document.querySelectorAll(".agenda__cancel-add-item-btn")).forEach((function(e){e.addEventListener("click",d)})),Array.from(document.querySelectorAll(".agenda__add-item-form__text-area")).forEach((function(e){return e.addEventListener("keyup",i)})),Array.from(document.querySelectorAll(".agenda__add-item-form")).forEach((function(e){return e.addEventListener("submit",o)}))})();